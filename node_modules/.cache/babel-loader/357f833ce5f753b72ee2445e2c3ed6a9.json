{"ast":null,"code":"import { findIndex } from '../utils';\n/**\r\n * Get visible products\r\n * \r\n * @param {Array} products \r\n * @param {Object} param1\r\n * @return {Array} filtered products \r\n */\n\nexport var getVisibleProducts = function getVisibleProducts(products, _ref) {\n  var sortBy = _ref.sortBy,\n      category = _ref.category,\n      size = _ref.size,\n      brand = _ref.brand,\n      color = _ref.color,\n      rating = _ref.rating,\n      value = _ref.value;\n  return products.filter(function (item) {\n    var catResult = false,\n        sizeResult = false,\n        brandResult = false,\n        colorResult = false,\n        valResult = false,\n        ratingResult = false;\n\n    if (category && category.length > 0) {\n      var _loop = function _loop(i) {\n        if (-1 !== findIndex(item.category, function (cat) {\n          return cat === category[i];\n        }) || category[i] === \"Sale\" && item.discount > 0 || category[i] === 'All') catResult = true;\n      };\n\n      for (var i = 0; i < category.length; i++) {\n        _loop(i);\n      }\n    } else {\n      catResult = true;\n    }\n\n    if (size && size.length > 0) {\n      var _loop2 = function _loop2(_i) {\n        if (-1 !== findIndex(item.size, function (sz) {\n          return sz === size[_i];\n        })) sizeResult = true;\n      };\n\n      for (var _i = 0; _i < size.length; _i++) {\n        _loop2(_i);\n      }\n    } else {\n      sizeResult = true;\n    }\n\n    if (brand && brand.length > 0) {\n      var _loop3 = function _loop3(_i2) {\n        if (-1 !== findIndex(item.brands, function (br) {\n          return br === brand[_i2];\n        })) brandResult = true;\n      };\n\n      for (var _i2 = 0; _i2 < brand.length; _i2++) {\n        _loop3(_i2);\n      }\n    } else {\n      brandResult = true;\n    }\n\n    if (color && color.length > 0) {\n      var _loop4 = function _loop4(_i3) {\n        if (-1 !== findIndex(item.variants, function (cl) {\n          return cl.color === color[_i3];\n        })) colorResult = true;\n      };\n\n      for (var _i3 = 0; _i3 < color.length; _i3++) {\n        _loop4(_i3);\n      }\n    } else {\n      colorResult = true;\n    }\n\n    if (rating && rating.length > 0) {\n      for (var _i4 = 0; _i4 < rating.length; _i4++) {\n        if (item.ratings === rating[_i4]) ratingResult = true;\n      }\n    } else {\n      ratingResult = true;\n    }\n\n    var price = item.discount ? item.salePrice : item.price;\n\n    if (value && value.min <= price && price <= value.max) {\n      valResult = true;\n    }\n\n    return catResult && sizeResult && brandResult && colorResult && valResult && ratingResult;\n  }).sort(function (product1, product2) {\n    var price1 = product1.discount > 0 ? product1.salePrice : product1.price;\n    var price2 = product2.discount > 0 ? product2.salePrice : product2.price;\n\n    if ('popularity' === sortBy) {\n      return product2.id < product1.id ? -1 : 1;\n    } else if ('rating' === sortBy) {\n      return product2.ratings > product1.ratings ? 1 : -1;\n    } else if ('date' === sortBy) {\n      return product2.id > product1.id ? -1 : 1;\n    } else if ('newness' === sortBy) {\n      return product2.id > product1.id ? -1 : 1;\n    } else if ('price: low to high' === sortBy) {\n      return price2 > price1 ? -1 : 1;\n    } else if ('price: high to low' === sortBy) {\n      return price2 < price1 ? -1 : 1;\n    } else {\n      return product2.id < product1.id ? -1 : 1;\n    }\n  });\n};\n/**\r\n * Get featured products\r\n * @param {Array} products \r\n * @return {Array} featuredProducts\r\n */\n\nexport var getFeaturedProducts = function getFeaturedProducts(products) {\n  return products.filter(function (item) {\n    return true === item.featured;\n  });\n};\n/**\r\n * Get sold products\r\n * @param {Array} products \r\n * @return {Array} saleProducts\r\n */\n\nexport var getSaleProducts = function getSaleProducts(products) {\n  return products.filter(function (item) {\n    return item.discount > 0;\n  });\n};\n/**\r\n * Get new products\r\n * @param {Array} products \r\n * @return {Array} newProducts\r\n */\n\nexport var getNewProducts = function getNewProducts(products) {\n  return products.filter(function (item) {\n    return item.new;\n  });\n};\n/**\r\n * Get deal products\r\n * @param {Array} products \r\n * @return {Array} dealProducts\r\n */\n\nexport var getDealProducts = function getDealProducts(products, deal) {\n  return products.filter(function (item) {\n    return item.deal === deal;\n  });\n};\n/**\r\n * Get products which has top rating\r\n * @param {Array} products \r\n * @return {Array} topRatingProducts\r\n */\n\nexport var getTopRatingProducts = function getTopRatingProducts(products) {\n  return products.filter(function (product) {\n    return product.ratings > 2;\n  }).sort(function (product1, product2) {\n    return product2.ratings < product1.ratings ? -1 : 1;\n  });\n};\n/**\r\n * Get products which has top sale\r\n * @param {Array} products \r\n * @return {Array} topSellingProducts\r\n */\n\nexport var getTopSellingProducts = function getTopSellingProducts(products) {\n  return products.filter(function (item) {\n    return true === item.top;\n  });\n};\n/**\r\n * Get products filtered by category\r\n * @param {Array} products \r\n * @param {String} category\r\n * @return {Array} filteredProducts\r\n */\n\nexport var getProductsByCategory = function getProductsByCategory(products, category) {\n  if (category === \"All\") return products;\n\n  if (-1 !== category.indexOf('&')) {\n    category = category.split(' & ');\n  }\n\n  return products.filter(function (item) {\n    var result = false;\n\n    if (Array.isArray(category)) {\n      for (var i = 0; i < category.length; i++) {\n        if (-1 !== item.category.indexOf(category[i])) {\n          result = true;\n        }\n      }\n    } else {\n      if (-1 !== item.category.indexOf(category)) result = true;\n    }\n\n    return result;\n  });\n};\n/**\r\n * Get number of products filtered by category\r\n * @param {Array} products \r\n * @param {String} category\r\n * @return {Integer} count of suitable products\r\n */\n\nexport var getCountByCategory = function getCountByCategory(products, category) {\n  if (category === \"All\") return products.length;\n  if (category === \"Sale\") return products.filter(function (item) {\n    return item.discount > 0;\n  }).length;\n  return products.filter(function (item) {\n    return -1 !== item.category.indexOf(category);\n  }).length;\n};\n/**\r\n * get total Price of products in cart.\r\n * @param {Array} cartItems \r\n * @return {Float} totalPrice\r\n */\n\nexport var getCartTotal = function getCartTotal(cartItems) {\n  var total = 0;\n\n  for (var i = 0; i < cartItems.length; i++) {\n    total += parseInt(cartItems[i].qty, 10) * (cartItems[i].discount ? cartItems[i].salePrice : cartItems[i].price);\n  }\n\n  return total;\n};\n/**\r\n * get number of products in cart\r\n * @param {Array} cartItems \r\n * @return {Integer} numbers of cart items in cartlist\r\n */\n\nexport var getCartCount = function getCartCount(cartItems) {\n  var total = 0;\n\n  for (var i = 0; i < cartItems.length; i++) {\n    total += parseInt(cartItems[i].qty, 10);\n  }\n\n  return total;\n};\n/**\r\n * Get number of products filtered by rating\r\n * @param {Array} products \r\n * @param {String} category\r\n * @return {Integer} number of products filtered by rating\r\n */\n\nexport var getCountByRating = function getCountByRating(products, rating) {\n  return products.filter(function (item) {\n    return item.rating === rating;\n  }).length;\n};","map":{"version":3,"sources":["C:/Users/Eddi/Documents/Proyectos/DS2/Eros-Shop/Nueva carpeta/src/services/index.js"],"names":["findIndex","getVisibleProducts","products","sortBy","category","size","brand","color","rating","value","filter","item","catResult","sizeResult","brandResult","colorResult","valResult","ratingResult","length","i","cat","discount","sz","brands","br","variants","cl","ratings","price","salePrice","min","max","sort","product1","product2","price1","price2","id","getFeaturedProducts","featured","getSaleProducts","getNewProducts","new","getDealProducts","deal","getTopRatingProducts","product","getTopSellingProducts","top","getProductsByCategory","indexOf","split","result","Array","isArray","getCountByCategory","getCartTotal","cartItems","total","parseInt","qty","getCartCount","getCountByRating"],"mappings":"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","sourcesContent":["import { findIndex } from '../utils';\r\n\r\n/**\r\n * Get visible products\r\n * \r\n * @param {Array} products \r\n * @param {Object} param1\r\n * @return {Array} filtered products \r\n */\r\nexport const getVisibleProducts = ( products, { sortBy, category, size, brand, color, rating, value } ) => {\r\n    return products.filter( item => {\r\n        let catResult = false, sizeResult = false, brandResult = false, colorResult = false, valResult = false, ratingResult = false;\r\n\r\n        if ( category && category.length > 0 ) {\r\n            for ( let i = 0; i < category.length; i++ ) {\r\n                if ( -1 !== findIndex( item.category, cat => cat === category[ i ] ) || ( category[ i ] === \"Sale\" && item.discount > 0 ) || ( category[ i ] === 'All' ) )\r\n                    catResult = true;\r\n            }\r\n        } else {\r\n            catResult = true;\r\n        }\r\n\r\n        if ( size && size.length > 0 ) {\r\n            for ( let i = 0; i < size.length; i++ ) {\r\n                if ( -1 !== findIndex( item.size, sz => sz === size[ i ] ) )\r\n                    sizeResult = true;\r\n            }\r\n        } else {\r\n            sizeResult = true;\r\n        }\r\n\r\n        if ( brand && brand.length > 0 ) {\r\n            for ( let i = 0; i < brand.length; i++ ) {\r\n                if ( -1 !== findIndex( item.brands, br => br === brand[ i ] ) )\r\n                    brandResult = true;\r\n            }\r\n        } else {\r\n            brandResult = true;\r\n        }\r\n\r\n        if ( color && color.length > 0 ) {\r\n            for ( let i = 0; i < color.length; i++ ) {\r\n                if ( -1 !== findIndex( item.variants, cl => cl.color === color[ i ] ) )\r\n                    colorResult = true;\r\n            }\r\n        } else {\r\n            colorResult = true;\r\n        }\r\n\r\n        if ( rating && rating.length > 0 ) {\r\n            for ( let i = 0; i < rating.length; i++ ) {\r\n                if ( item.ratings === rating[ i ] )\r\n                    ratingResult = true;\r\n            }\r\n        } else {\r\n            ratingResult = true;\r\n        }\r\n\r\n        let price = item.discount ? item.salePrice : item.price;\r\n\r\n        if ( value && value.min <= price && price <= value.max ) {\r\n            valResult = true;\r\n        }\r\n\r\n        return catResult && sizeResult && brandResult && colorResult && valResult && ratingResult;\r\n\r\n    } ).sort( ( product1, product2 ) => {\r\n        let price1 = product1.discount > 0 ? product1.salePrice : product1.price;\r\n        let price2 = product2.discount > 0 ? product2.salePrice : product2.price;\r\n\r\n        if ( 'popularity' === sortBy ) {\r\n            return product2.id < product1.id ? -1 : 1;\r\n        } else if ( 'rating' === sortBy ) {\r\n            return product2.ratings > product1.ratings ? 1 : -1;\r\n        } else if ( 'date' === sortBy ) {\r\n            return product2.id > product1.id ? -1 : 1;\r\n        } else if ( 'newness' === sortBy ) {\r\n            return product2.id > product1.id ? -1 : 1;\r\n        } else if ( 'price: low to high' === sortBy ) {\r\n            return price2 > price1 ? -1 : 1;\r\n        } else if ( 'price: high to low' === sortBy ) {\r\n            return price2 < price1 ? -1 : 1;\r\n        } else {\r\n            return product2.id < product1.id ? -1 : 1;\r\n        }\r\n    } );\r\n}\r\n\r\n/**\r\n * Get featured products\r\n * @param {Array} products \r\n * @return {Array} featuredProducts\r\n */\r\nexport const getFeaturedProducts = ( products ) => {\r\n    return products.filter( item => true === item.featured );\r\n}\r\n\r\n/**\r\n * Get sold products\r\n * @param {Array} products \r\n * @return {Array} saleProducts\r\n */\r\nexport const getSaleProducts = ( products ) => {\r\n    return products.filter( item => item.discount > 0 );\r\n}\r\n\r\n/**\r\n * Get new products\r\n * @param {Array} products \r\n * @return {Array} newProducts\r\n */\r\nexport const getNewProducts = ( products ) => {\r\n    return products.filter( item => item.new );\r\n}\r\n\r\n/**\r\n * Get deal products\r\n * @param {Array} products \r\n * @return {Array} dealProducts\r\n */\r\nexport const getDealProducts = ( products, deal ) => {\r\n    return products.filter( item => item.deal === deal );\r\n}\r\n\r\n/**\r\n * Get products which has top rating\r\n * @param {Array} products \r\n * @return {Array} topRatingProducts\r\n */\r\nexport const getTopRatingProducts = ( products ) => {\r\n    return products.filter( product => {\r\n        return product.ratings > 2\r\n    } ).sort( ( product1, product2 ) => {\r\n        return product2.ratings < product1.ratings ? -1 : 1;\r\n    } );\r\n}\r\n\r\n/**\r\n * Get products which has top sale\r\n * @param {Array} products \r\n * @return {Array} topSellingProducts\r\n */\r\nexport const getTopSellingProducts = ( products ) => {\r\n    return products.filter( item => true === item.top );\r\n}\r\n\r\n/**\r\n * Get products filtered by category\r\n * @param {Array} products \r\n * @param {String} category\r\n * @return {Array} filteredProducts\r\n */\r\nexport const getProductsByCategory = ( products, category ) => {\r\n    if ( category === \"All\" ) return products;\r\n\r\n    if ( -1 !== category.indexOf( '&' ) ) {\r\n        category = category.split( ' & ' );\r\n    }\r\n\r\n    return products.filter( item => {\r\n        let result = false;\r\n\r\n        if ( Array.isArray( category ) ) {\r\n            for ( let i = 0; i < category.length; i++ ) {\r\n                if ( -1 !== item.category.indexOf( category[ i ] ) ) {\r\n                    result = true;\r\n                }\r\n            }\r\n        } else {\r\n            if ( -1 !== item.category.indexOf( category ) )\r\n                result = true;\r\n        }\r\n        return result;\r\n    } );\r\n}\r\n\r\n/**\r\n * Get number of products filtered by category\r\n * @param {Array} products \r\n * @param {String} category\r\n * @return {Integer} count of suitable products\r\n */\r\nexport const getCountByCategory = ( products, category ) => {\r\n    if ( category === \"All\" ) return products.length;\r\n    if ( category === \"Sale\" ) return products.filter( item => item.discount > 0 ).length;\r\n    return products.filter( item => -1 !== item.category.indexOf( category ) ).length;\r\n}\r\n\r\n/**\r\n * get total Price of products in cart.\r\n * @param {Array} cartItems \r\n * @return {Float} totalPrice\r\n */\r\nexport const getCartTotal = cartItems => {\r\n    let total = 0;\r\n    for ( let i = 0; i < cartItems.length; i++ ) {\r\n        total += parseInt( cartItems[ i ].qty, 10 ) * ( cartItems[ i ].discount ? cartItems[ i ].salePrice : cartItems[ i ].price );\r\n    }\r\n    return total;\r\n}\r\n\r\n/**\r\n * get number of products in cart\r\n * @param {Array} cartItems \r\n * @return {Integer} numbers of cart items in cartlist\r\n */\r\nexport const getCartCount = cartItems => {\r\n    let total = 0;\r\n\r\n    for ( let i = 0; i < cartItems.length; i++ ) {\r\n        total += parseInt( cartItems[ i ].qty, 10 );\r\n    }\r\n\r\n    return total;\r\n}\r\n\r\n/**\r\n * Get number of products filtered by rating\r\n * @param {Array} products \r\n * @param {String} category\r\n * @return {Integer} number of products filtered by rating\r\n */\r\nexport const getCountByRating = ( products, rating ) => {\r\n    return products.filter( item => item.rating === rating ).length;\r\n}"]},"metadata":{},"sourceType":"module"}