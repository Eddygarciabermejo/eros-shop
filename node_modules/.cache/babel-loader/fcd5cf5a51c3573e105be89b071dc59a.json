{"ast":null,"code":"// utils to initialize other funcs\nexport var initFunctions = function initFunctions() {\n  definePolyfills();\n};\n/**\r\n * definePolyfills\r\n */\n\nexport var definePolyfills = function definePolyfills() {\n  if (typeof Object.values != 'function') {\n    Object.defineProperty(Object, \"values\", {\n      value: function values(obj) {\n        if (obj === null) {\n          throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var res = [];\n        Object.keys(obj).map(function (key) {\n          res.push(obj[key]);\n          return 1;\n        });\n        return res;\n      }\n    });\n  }\n\n  if (window.Element && !Element.prototype.closest) {\n    Element.prototype.closest = function (s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i,\n          el = this;\n\n      do {\n        i = matches.length;\n\n        while (--i >= 0 && matches.item(i) !== el) {}\n\n        ;\n      } while (i < 0 && (el = el.parentElement));\n\n      return el;\n    };\n  }\n\n  if (!Element.prototype.index) {\n    Element.prototype.index = function (s) {\n      var self = this;\n      var children = self.parentElement.children;\n\n      for (var i = 0; i < children.length; i++) {\n        if (self === children[i]) return i;\n      }\n\n      return 0;\n    };\n  }\n};\n/**\r\n * refresh all settings.\r\n */\n\nexport var initSettings = function initSettings() {\n  scrollTop();\n  mobileMenu();\n};\n/**\r\n * add event listner to anchors of header top to prevent Default \r\n */\n\nexport function preventHeaderDefault() {\n  var items = document.querySelectorAll(\".header-dropdown a, .top-menu li a\");\n\n  for (var i = 0; i < items.length; i++) {\n    items[i].addEventListener(\"click\", preventDefaultHandler, false);\n  }\n}\n/**\r\n * add event listener to anchors of product to prevent default.\r\n */\n\nexport function preventProductDefault() {\n  var items = document.querySelectorAll(\".product-nav a, .product-size a\");\n\n  for (var i = 0; i < items.length; i++) {\n    items[i].addEventListener(\"click\", preventDefaultHandler, false);\n  }\n}\nexport function removePreventProductDefault() {\n  var items = document.querySelectorAll(\".product-nav a, .product-size a\");\n\n  for (var i = 0; i < items.length; i++) {\n    items[i].addEventListener(\"click\", preventDefaultHandler, false);\n  }\n}\n\nfunction preventDefaultHandler(e) {\n  e.preventDefault();\n}\n/**\r\n * Apply sticky header\r\n */\n\n\nexport var stickyHeaderHandler = function stickyHeaderHandler() {\n  var top = document.querySelector('main') ? document.querySelector('main').offsetTop : 300;\n  var stickyHeader = document.querySelector('.sticky-header');\n  var height = 0;\n\n  if (stickyHeader) {\n    height = stickyHeader.offsetHeight;\n  }\n\n  if (window.pageYOffset >= top && window.outerWidth >= 992) {\n    if (stickyHeader) {\n      stickyHeader.classList.add('fixed');\n\n      if (!document.querySelector('.sticky-wrapper')) {\n        var newNode = document.createElement(\"div\");\n        newNode.className = \"sticky-wrapper\";\n        stickyHeader.parentNode.insertBefore(newNode, stickyHeader);\n        document.querySelector('.sticky-wrapper').insertAdjacentElement('beforeend', stickyHeader);\n        document.querySelector('.sticky-wrapper').setAttribute(\"style\", \"height: \" + height + \"px\");\n      }\n\n      if (!document.querySelector('.sticky-wrapper').getAttribute(\"style\")) {\n        document.querySelector('.sticky-wrapper').setAttribute(\"style\", \"height: \" + height + \"px\");\n      }\n    }\n  } else {\n    if (stickyHeader) {\n      stickyHeader.classList.remove('fixed');\n    }\n\n    if (document.querySelector('.sticky-wrapper')) {\n      document.querySelector('.sticky-wrapper').removeAttribute(\"style\");\n    }\n  }\n\n  if (window.outerWidth < 992 && document.querySelector('.sticky-wrapper')) {\n    document.querySelector('.sticky-wrapper').style.height = 'auto';\n  }\n};\n/**\r\n * utils to handle sticky content\r\n */\n\nvar stickyContent, top, bottom, offHeight, originHeight, originWidth;\nexport var setStickyValues = function setStickyValues() {\n  var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 82;\n\n  if (isIEBrowser()) {\n    stickyContent = document.querySelector('.sticky-content');\n    if (!stickyContent) return;\n    offHeight = height;\n    originHeight = stickyContent.offsetHeight;\n    stickyContent.style.position = \"relative\";\n    stickyContent.style.top = '0';\n  }\n};\n/**\r\n * utils to get width\r\n */\n\nfunction getWidth(self) {\n  return parseInt(self.clientWidth) - parseInt(window.getComputedStyle(self).getPropertyValue(\"padding-left\")) - parseInt(window.getComputedStyle(self).getPropertyValue(\"padding-right\"));\n}\n/**\r\n * sticky content event listener\r\n */\n\n\nexport var stickyContentHandle = function stickyContentHandle() {\n  if (isIEBrowser()) {\n    bottom = stickyContent.parentElement.getBoundingClientRect().bottom + window.pageYOffset;\n    top = stickyContent.parentNode.getBoundingClientRect().top + window.pageYOffset;\n    originWidth = getWidth(stickyContent.parentElement);\n\n    if (document.querySelector(\"body\").clientWidth < 1024) {\n      stickyContent.style.position = \"static\";\n      stickyContent.style.width = \"unset\";\n    } else {\n      if (top > window.pageYOffset + offHeight) {\n        stickyContent.style.position = \"relative\";\n        stickyContent.style.top = '0';\n        stickyContent.style.width = originWidth + 'px';\n      }\n\n      if (top < window.pageYOffset + offHeight) {\n        stickyContent.style.position = \"fixed\";\n        stickyContent.style.top = offHeight + 'px';\n        stickyContent.style.width = originWidth + 'px';\n      }\n\n      if (bottom - originHeight - offHeight < window.pageYOffset) {\n        stickyContent.style.position = \"absolute\";\n        stickyContent.style.width = originWidth + 'px';\n        stickyContent.style.bottom = '0';\n        stickyContent.style.top = 'auto';\n      }\n    }\n  }\n};\n/**\r\n * utils to scroll element to top\r\n */\n\nexport var scrollTop = function scrollTop() {\n  var scrollTop = document.querySelector('#scroll-top');\n  document.addEventListener(\"scroll\", function () {\n    if (window.pageYOffset >= 400) {\n      scrollTop.classList.add('show');\n    } else {\n      scrollTop.classList.remove('show');\n    }\n  }, false);\n  scrollTop.addEventListener(\"click\", function (e) {\n    if (isIEBrowser() || isSafariBrowser() || isEdgeBrowser()) {\n      var pos = window.pageYOffset;\n      var timerId = setInterval(function () {\n        if (pos <= 0) clearInterval(timerId);\n        window.scrollBy(0, -120);\n        pos -= 120;\n      }, 1);\n    } else {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }\n\n    e.preventDefault();\n  });\n};\n/**\r\n * utils to scroll element to target element\r\n */\n\nexport var scrollToElement = function scrollToElement(e) {\n  var top = document.querySelector(e.currentTarget.getAttribute(\"data-target\")).getBoundingClientRect().top + window.pageYOffset;\n\n  if (isIEBrowser() || isSafariBrowser() || isEdgeBrowser()) {\n    var pos = window.pageYOffset;\n    var timerId = setInterval(function () {\n      if (pos >= top) clearInterval(timerId);\n      window.scrollBy(0, 50);\n      pos += 50;\n    }, 1);\n  } else {\n    window.scrollTo({\n      top: top,\n      behavior: 'smooth'\n    });\n  }\n\n  e.preventDefault();\n};\n/**\r\n * utils to make mobile menu\r\n */\n\nexport var mobileMenu = function mobileMenu(e) {\n  var showMobile = document.querySelector('.mobile-menu-toggler');\n  var mobileMenu = document.querySelector('body');\n  showMobile.addEventListener(\"click\", function (e) {\n    mobileMenu.classList.add('mmenu-active');\n  });\n  var mobileClose = document.querySelector('.mobile-menu-close');\n  mobileClose.addEventListener(\"click\", function (e) {\n    mobileMenu.classList.remove('mmenu-active');\n  });\n  var overLay = document.querySelector('.mobile-menu-overlay');\n  overLay.addEventListener(\"click\", function (e) {\n    mobileMenu.classList.remove('mmenu-active');\n  });\n  var items = document.querySelector('.mobile-menu').querySelectorAll('li');\n\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n\n    if (item.querySelector('ul')) {\n      var span = document.createElement(\"span\");\n      span.className = \"mmenu-btn\";\n      item.querySelector('a').appendChild(span);\n    }\n\n    item.addEventListener(\"click\", function () {\n      if (mobileMenu.classList.contains('mmenu-active')) {\n        mobileMenu.classList.remove('mmenu-active');\n      }\n    });\n  }\n\n  items = document.querySelectorAll(\".mmenu-btn\");\n\n  var _loop = function _loop(_i) {\n    var item = items[_i];\n    item.addEventListener(\"click\", function (e) {\n      var parent = item.parentElement.parentElement;\n      var targetUI = parent.querySelector(\"ul\");\n      targetUI.setAttribute(\"style\", \"display: block; visibility: hidden;\");\n      var targetHeight = targetUI.offsetHeight;\n      var delta = targetHeight / 60;\n\n      if (isIEBrowser() || isEdgeBrowser()) {\n        delta = targetHeight / 30;\n      }\n\n      if (!parent.classList.contains('open')) {\n        var height = 0;\n        var timerID = setInterval(function () {\n          if (targetHeight <= height) {\n            targetUI.removeAttribute(\"style\");\n            targetUI.setAttribute(\"style\", \"display: block;\");\n            clearInterval(timerID);\n            return null;\n          }\n\n          targetUI.setAttribute(\"style\", \"display: block; overflow: hidden; height: \" + height + 'px');\n          height += delta;\n        }, 1);\n        parent.classList.add('open');\n      } else {\n        var _height = targetHeight;\n\n        var _timerID = setInterval(function () {\n          if (_height <= 0) {\n            targetUI.removeAttribute(\"style\");\n            targetUI.setAttribute(\"style\", \"display: none;\");\n            clearInterval(_timerID);\n            return null;\n          }\n\n          targetUI.setAttribute(\"style\", \"display: block; overflow: hidden; height: \" + _height + 'px');\n          _height -= delta;\n        }, 1);\n\n        parent.classList.remove('open');\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  };\n\n  for (var _i = 0; _i < items.length; _i++) {\n    _loop(_i);\n  }\n};\n/**\r\n * utils to make background parallax\r\n */\n\nexport var parallax = function parallax() {\n  var parallax = document.querySelectorAll('.bg-parallax');\n\n  for (var i = 0; i < parallax.length; i++) {\n    var y = 0;\n\n    if (parallax[i].classList.contains('header-parallax')) {\n      y = (10 - window.pageYOffset) * 47 / 900 + 50;\n    } else {\n      y = (parallax[i].offsetTop - window.pageYOffset) * 47 / parallax[i].offsetTop + 50;\n    }\n\n    parallax[i].style.backgroundPositionY = y + '%';\n  }\n};\n/**\r\n * utils to remove all XSS  attacks potential\r\n * @param {String} html\r\n * @return {Object}\r\n */\n\nexport var safeContent = function safeContent(html) {\n  var SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi; //Removing the <script> tags\n\n  while (SCRIPT_REGEX.test(html)) {\n    html = html.replace(SCRIPT_REGEX, '');\n  } //Removing all events from tags...\n\n\n  html = html.replace(/ on\\w+=\"[^\"]*\"/g, '');\n  return {\n    __html: html\n  };\n};\n/**\r\n * utils to handle hover event in product\r\n */\n\nexport var hoverIntent = function hoverIntent() {\n  var items = document.querySelectorAll('.product-3');\n\n  var _loop2 = function _loop2(i) {\n    var item = items[i];\n    item.addEventListener(\"mouseover\", mouseOverHandler, false);\n    item.addEventListener(\"mouseleave\", mouseLeaveHandler, false);\n\n    function mouseOverHandler() {\n      var animDiff = item.offsetHeight - (item.querySelector(\".product-body\").offsetHeight + item.querySelector(\".product-media\").offsetHeight);\n      var animDistance = item.querySelector(\".product-footer\").offsetHeight - animDiff;\n      item.querySelector(\".product-footer\").setAttribute(\"style\", \"visibility: visible; transform: translateY(0);\");\n      item.querySelector(\".product-body\").setAttribute(\"style\", \"transform: translateY(\" + -animDistance + \"px)\");\n    }\n\n    function mouseLeaveHandler() {\n      item.querySelector(\".product-footer\").setAttribute(\"style\", \"visibility: hidden; transform: translateY(100%);\");\n      item.querySelector(\".product-body\").setAttribute(\"style\", \"transform: translateY(0)\");\n    }\n  };\n\n  for (var i = 0; i < items.length; i++) {\n    _loop2(i);\n  }\n};\n/**\r\n * utils to make quanity input in product page\r\n */\n\nexport var quantityInputs = function quantityInputs() {\n  var items = document.querySelectorAll(\"input[type='number']\");\n\n  var _loop3 = function _loop3(i) {\n    var item = items[i];\n\n    if (\"none\" !== item.style.display) {\n      var decrementHandler = function decrementHandler() {\n        if (min <= parseInt(inputNumber.value) - parseInt(step)) {\n          inputNumber.value = parseInt(inputNumber.value) - parseInt(step);\n          item.value = inputNumber.value;\n          item.setAttribute(\"value\", inputNumber.value);\n        }\n      };\n\n      var incrementHandler = function incrementHandler() {\n        if (max >= parseInt(inputNumber.value) + parseInt(step)) {\n          inputNumber.value = parseInt(inputNumber.value) + parseInt(step);\n          item.value = inputNumber.value;\n          item.setAttribute(\"value\", inputNumber.value);\n        }\n      };\n\n      var min = item.getAttribute(\"min\"),\n          max = item.getAttribute(\"max\"),\n          step = item.getAttribute(\"step\"),\n          element = document.createElement(\"div\");\n      element.className = \"input-group input-spinner\";\n      element.innerHTML = '<div class=\"input-group-prepend\"><button style=\"min-width: 26px\" class=\"btn btn-decrement btn-spinner\" type=\"button\"><i class=\"icon-minus\"></i></button></div><input type=\"text\" style=\"text-align: center\" class=\"form-control \" required placeholder=\"\"><div class=\"input-group-append\"><button style=\"min-width: 26px\" class=\"btn btn-increment btn-spinner\" type=\"button\"><i class=\"icon-plus\"></i></button></div>';\n      item.insertAdjacentElement(\"afterEnd\", element);\n      item.style.display = 'none';\n      var inputNumber = element.querySelector(\"input[type='text']\");\n      inputNumber.value = item.value;\n      element.querySelector(\".btn-decrement\").addEventListener(\"click\", decrementHandler, false);\n      element.querySelector(\".btn-increment\").addEventListener(\"click\", incrementHandler, false);\n    }\n  };\n\n  for (var i = 0; i < items.length; i++) {\n    _loop3(i);\n  }\n};\n/**\r\n * utils to detect IE browser\r\n * @return {bool}\r\n */\n\nexport var isIEBrowser = function isIEBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf(\"Trident\") > -1) return true;\n  return false;\n};\n/**\r\n * utils to detect safari browser\r\n * @return {bool}\r\n */\n\nexport var isSafariBrowser = function isSafariBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf('Safari') !== -1 && sUsrAg.indexOf('Chrome') === -1) return true;\n  return false;\n};\n/**\r\n * utils to detect Edge browser\r\n * @return {bool}\r\n */\n\nexport var isEdgeBrowser = function isEdgeBrowser() {\n  var sUsrAg = navigator.userAgent;\n  if (sUsrAg.indexOf(\"Edge\") > -1) return true;\n  return false;\n};\n/**\r\n * find index of first matched string\r\n */\n\nexport var findIndex = function findIndex(array, cb) {\n  if (array) {\n    for (var i = 0; i < array.length; i++) {\n      if (true === cb(array[i])) return i;\n    }\n  }\n\n  return -1;\n};\n/**\r\n * utils to set countto in about-2\r\n */\n\nexport var countTo = function countTo() {\n  var items = document.querySelectorAll('.count');\n\n  if (items) {\n    var _loop4 = function _loop4(i) {\n      var item = items[i];\n      var amount = parseInt(item.getAttribute('data-to'), 10) - parseInt(item.getAttribute('data-from'), 10);\n      var time = parseInt(item.getAttribute('data-speed'), 10);\n      var interval = parseInt(item.getAttribute('data-refresh-interval'), 10);\n      var pt = 0;\n      var height = item.parentElement.parentElement.parentElement.offsetTop;\n      var flag = 0;\n      document.addEventListener(\"scroll\", countToScrollHandler, true);\n\n      function countToScrollHandler() {\n        if (pt <= time && height >= window.pageYOffset) {\n          if (0 === flag) {\n            var timerId = setInterval(function () {\n              if (pt >= time) {\n                clearInterval(timerId);\n              }\n\n              item.innerHTML = parseInt(pt * amount / time);\n              pt = pt + interval;\n            }, interval);\n          }\n\n          flag = 1;\n        }\n      }\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      _loop4(i);\n    }\n  }\n};\n/**\r\n * utils to set Masonry / Grid layout\r\n * \r\n * @param {Object} isotope\r\n * @param {Function} imagesLoaded\r\n * @param {String} container\r\n * @param {String} selector\r\n * @param {String} filterNav\r\n */\n\nexport function isotopeLoad(isotope, imagesLoaded, container, selector, filterNav) {\n  var layoutMode = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"masonry\";\n  var items = document.querySelectorAll(container);\n\n  var _loop5 = function _loop5(i) {\n    var item = items[i];\n    var iso = new isotope(items[i], {\n      itemSelector: selector,\n      layoutMode: layoutMode,\n      filter: document.querySelector(filterNav + \" .active\") ? document.querySelector(filterNav + \" .active\").getAttribute('data-filter') : ''\n    });\n    var imgLoad = imagesLoaded(item, {\n      background: true\n    });\n    imgLoad.on('done', function (instance, image) {\n      iso.layout();\n    });\n\n    if (filterNav) {\n      (function () {\n        var tabList = document.querySelectorAll(filterNav + \" a\");\n\n        for (var _i2 = 0; _i2 < tabList.length; _i2++) {\n          tabList[_i2].addEventListener(\"click\", function (e) {\n            e.preventDefault();\n            var filterValue = e.currentTarget.getAttribute('data-filter');\n            iso.arrange({\n              filter: filterValue\n            }); // add active class\n\n            for (var j = 0; j < tabList.length; j++) {\n              if (tabList[j].getAttribute('data-filter') === filterValue) {\n                tabList[j].parentNode.classList.add('active');\n              } else {\n                tabList[j].parentNode.classList.remove('active');\n              }\n            }\n          });\n        }\n      })();\n    }\n  };\n\n  for (var i = 0; i < items.length; i++) {\n    _loop5(i);\n  }\n}\n/**\r\n * utils to set Single Product Gallery\r\n */\n\nexport var productGallery = function productGallery() {\n  var items = document.querySelectorAll(\".product-gallery-item\");\n\n  var _loop6 = function _loop6(i) {\n    var item = items[i];\n    item.addEventListener(\"click\", productGalleryClickHandler);\n\n    function productGalleryClickHandler(e) {\n      for (var _i3 = 0; _i3 < items.length; _i3++) {\n        items[_i3].classList.remove(\"active\");\n      }\n\n      item.classList.add(\"active\");\n      var images = document.querySelectorAll(\".product-main-image img\");\n      images[0].setAttribute(\"src\", item.getAttribute(\"data-image\"));\n      images[1].setAttribute(\"src\", item.getAttribute(\"data-zoom-image\"));\n      document.querySelector(\".product-main-image\").setAttribute(\"index\", i);\n      e.preventDefault();\n    }\n  };\n\n  for (var i = 0; i < items.length; i++) {\n    _loop6(i);\n  }\n};","map":{"version":3,"sources":["C:/Users/Eddi/Documents/Proyectos/DS2/Eros-Shop/Nueva carpeta/src/utils/index.js"],"names":["initFunctions","definePolyfills","Object","values","defineProperty","value","obj","TypeError","res","keys","map","key","push","window","Element","prototype","closest","s","matches","document","ownerDocument","querySelectorAll","i","el","length","item","parentElement","index","self","children","initSettings","scrollTop","mobileMenu","preventHeaderDefault","items","addEventListener","preventDefaultHandler","preventProductDefault","removePreventProductDefault","e","preventDefault","stickyHeaderHandler","top","querySelector","offsetTop","stickyHeader","height","offsetHeight","pageYOffset","outerWidth","classList","add","newNode","createElement","className","parentNode","insertBefore","insertAdjacentElement","setAttribute","getAttribute","remove","removeAttribute","style","stickyContent","bottom","offHeight","originHeight","originWidth","setStickyValues","isIEBrowser","position","getWidth","parseInt","clientWidth","getComputedStyle","getPropertyValue","stickyContentHandle","getBoundingClientRect","width","isSafariBrowser","isEdgeBrowser","pos","timerId","setInterval","clearInterval","scrollBy","scrollTo","behavior","scrollToElement","currentTarget","showMobile","mobileClose","overLay","span","appendChild","contains","parent","targetUI","targetHeight","delta","timerID","stopPropagation","parallax","y","backgroundPositionY","safeContent","html","SCRIPT_REGEX","test","replace","__html","hoverIntent","mouseOverHandler","mouseLeaveHandler","animDiff","animDistance","quantityInputs","display","decrementHandler","min","inputNumber","step","incrementHandler","max","element","innerHTML","sUsrAg","navigator","userAgent","indexOf","findIndex","array","cb","countTo","amount","time","interval","pt","flag","countToScrollHandler","isotopeLoad","isotope","imagesLoaded","container","selector","filterNav","layoutMode","iso","itemSelector","filter","imgLoad","background","on","instance","image","layout","tabList","filterValue","arrange","j","productGallery","productGalleryClickHandler","images"],"mappings":"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","sourcesContent":["// utils to initialize other funcs\r\nexport const initFunctions = () => {\r\n    definePolyfills();\r\n}\r\n\r\n/**\r\n * definePolyfills\r\n */\r\nexport const definePolyfills = () => {\r\n    if ( typeof Object.values != 'function' ) {\r\n        Object.defineProperty( Object, \"values\", {\r\n            value: function values ( obj ) {\r\n                if ( obj === null ) {\r\n                    throw new TypeError( 'Cannot convert undefined or null to object' );\r\n                }\r\n\r\n                let res = [];\r\n\r\n                Object.keys( obj ).map( function ( key ) {\r\n                    res.push( obj[ key ] );\r\n                    return 1;\r\n                } )\r\n\r\n                return res;\r\n            }\r\n        } );\r\n    }\r\n\r\n    if ( window.Element && !Element.prototype.closest ) {\r\n        Element.prototype.closest =\r\n            function ( s ) {\r\n                var matches = ( this.document || this.ownerDocument ).querySelectorAll( s ),\r\n                    i,\r\n                    el = this;\r\n\r\n                do {\r\n                    i = matches.length;\r\n                    while ( --i >= 0 && matches.item( i ) !== el ) { };\r\n                } while ( ( i < 0 ) && ( el = el.parentElement ) );\r\n                return el;\r\n            };\r\n    }\r\n\r\n    if ( !Element.prototype.index ) {\r\n        Element.prototype.index = function ( s ) {\r\n            let self = this;\r\n            let children = self.parentElement.children;\r\n            for ( let i = 0; i < children.length; i++ ) {\r\n                if ( self === children[ i ] ) return i;\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * refresh all settings.\r\n */\r\nexport const initSettings = function () {\r\n    scrollTop();\r\n    mobileMenu();\r\n}\r\n\r\n\r\n/**\r\n * add event listner to anchors of header top to prevent Default \r\n */\r\nexport function preventHeaderDefault () {\r\n    let items = document.querySelectorAll( \".header-dropdown a, .top-menu li a\" );\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        items[ i ].addEventListener( \"click\", preventDefaultHandler, false );\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * add event listener to anchors of product to prevent default.\r\n */\r\nexport function preventProductDefault () {\r\n    let items = document.querySelectorAll( \".product-nav a, .product-size a\" );\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        items[ i ].addEventListener( \"click\", preventDefaultHandler, false );\r\n    }\r\n}\r\n\r\nexport function removePreventProductDefault () {\r\n    let items = document.querySelectorAll( \".product-nav a, .product-size a\" );\r\n\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        items[ i ].addEventListener( \"click\", preventDefaultHandler, false );\r\n    }\r\n}\r\n\r\nfunction preventDefaultHandler ( e ) {\r\n    e.preventDefault();\r\n}\r\n\r\n\r\n/**\r\n * Apply sticky header\r\n */\r\nexport const stickyHeaderHandler = function () {\r\n\r\n    let top = document.querySelector( 'main' ) ? document.querySelector( 'main' ).offsetTop : 300;\r\n\r\n    let stickyHeader = document.querySelector( '.sticky-header' );\r\n    let height = 0;\r\n\r\n    if ( stickyHeader ) {\r\n        height = stickyHeader.offsetHeight;\r\n    }\r\n\r\n    if ( window.pageYOffset >= top && window.outerWidth >= 992 ) {\r\n        if ( stickyHeader ) {\r\n            stickyHeader.classList.add( 'fixed' );\r\n            if ( !document.querySelector( '.sticky-wrapper' ) ) {\r\n                let newNode = document.createElement( \"div\" );\r\n                newNode.className = \"sticky-wrapper\";\r\n                stickyHeader.parentNode.insertBefore( newNode, stickyHeader );\r\n                document.querySelector( '.sticky-wrapper' ).insertAdjacentElement( 'beforeend', stickyHeader );\r\n                document.querySelector( '.sticky-wrapper' ).setAttribute( \"style\", \"height: \" + height + \"px\" );\r\n            }\r\n\r\n            if ( !document.querySelector( '.sticky-wrapper' ).getAttribute( \"style\" ) ) {\r\n                document.querySelector( '.sticky-wrapper' ).setAttribute( \"style\", \"height: \" + height + \"px\" );\r\n            }\r\n        }\r\n    } else {\r\n        if ( stickyHeader ) {\r\n            stickyHeader.classList.remove( 'fixed' );\r\n        }\r\n\r\n        if ( document.querySelector( '.sticky-wrapper' ) ) {\r\n            document.querySelector( '.sticky-wrapper' ).removeAttribute( \"style\" );\r\n        }\r\n    }\r\n\r\n    if ( window.outerWidth < 992 && document.querySelector( '.sticky-wrapper' ) ) {\r\n        document.querySelector( '.sticky-wrapper' ).style.height = 'auto';\r\n    }\r\n}\r\n\r\n/**\r\n * utils to handle sticky content\r\n */\r\nlet stickyContent, top, bottom, offHeight, originHeight, originWidth;\r\n\r\nexport const setStickyValues = function ( height = 82 ) {\r\n    if ( isIEBrowser() ) {\r\n        stickyContent = document.querySelector( '.sticky-content' );\r\n        if ( !stickyContent ) return;\r\n        offHeight = height;\r\n        originHeight = stickyContent.offsetHeight;\r\n        stickyContent.style.position = \"relative\";\r\n        stickyContent.style.top = '0';\r\n    }\r\n}\r\n\r\n/**\r\n * utils to get width\r\n */\r\nfunction getWidth ( self ) {\r\n    return parseInt( self.clientWidth ) - parseInt( window.getComputedStyle( self ).getPropertyValue( \"padding-left\" ) ) - parseInt( window.getComputedStyle( self ).getPropertyValue( \"padding-right\" ) );\r\n}\r\n\r\n\r\n/**\r\n * sticky content event listener\r\n */\r\nexport const stickyContentHandle = () => {\r\n    if ( isIEBrowser() ) {\r\n        bottom = stickyContent.parentElement.getBoundingClientRect().bottom + window.pageYOffset;\r\n        top = stickyContent.parentNode.getBoundingClientRect().top + window.pageYOffset;\r\n        originWidth = getWidth( stickyContent.parentElement );\r\n\r\n        if ( document.querySelector( \"body\" ).clientWidth < 1024 ) {\r\n            stickyContent.style.position = \"static\";\r\n            stickyContent.style.width = \"unset\";\r\n        } else {\r\n\r\n            if ( top > window.pageYOffset + offHeight ) {\r\n                stickyContent.style.position = \"relative\";\r\n                stickyContent.style.top = '0';\r\n                stickyContent.style.width = originWidth + 'px';\r\n            }\r\n\r\n            if ( top < window.pageYOffset + offHeight ) {\r\n                stickyContent.style.position = \"fixed\";\r\n                stickyContent.style.top = offHeight + 'px';\r\n                stickyContent.style.width = originWidth + 'px';\r\n            }\r\n            if ( bottom - originHeight - offHeight < window.pageYOffset ) {\r\n                stickyContent.style.position = \"absolute\";\r\n                stickyContent.style.width = originWidth + 'px';\r\n                stickyContent.style.bottom = '0';\r\n                stickyContent.style.top = 'auto';\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * utils to scroll element to top\r\n */\r\nexport const scrollTop = function () {\r\n    let scrollTop = document.querySelector( '#scroll-top' );\r\n    document.addEventListener( \"scroll\", function () {\r\n        if ( window.pageYOffset >= 400 ) {\r\n            scrollTop.classList.add( 'show' );\r\n        } else {\r\n            scrollTop.classList.remove( 'show' );\r\n        }\r\n    }, false );\r\n\r\n    scrollTop.addEventListener( \"click\", function ( e ) {\r\n        if ( isIEBrowser() || isSafariBrowser() || isEdgeBrowser() ) {\r\n            let pos = window.pageYOffset;\r\n            let timerId = setInterval( () => {\r\n                if ( pos <= 0 )\r\n                    clearInterval( timerId );\r\n                window.scrollBy( 0, -120 );\r\n                pos -= 120;\r\n            }, 1 );\r\n        } else {\r\n            window.scrollTo( {\r\n                top: 0,\r\n                behavior: 'smooth'\r\n            } )\r\n        }\r\n        e.preventDefault();\r\n    } );\r\n}\r\n\r\n\r\n/**\r\n * utils to scroll element to target element\r\n */\r\nexport const scrollToElement = ( e ) => {\r\n    let top = document.querySelector( e.currentTarget.getAttribute( \"data-target\" ) ).getBoundingClientRect().top + window.pageYOffset;\r\n    if ( isIEBrowser() || isSafariBrowser() || isEdgeBrowser() ) {\r\n        let pos = window.pageYOffset;\r\n        let timerId = setInterval( () => {\r\n            if ( pos >= top )\r\n                clearInterval( timerId );\r\n            window.scrollBy( 0, 50 );\r\n            pos += 50;\r\n        }, 1 );\r\n    } else {\r\n        window.scrollTo( {\r\n            top: top,\r\n            behavior: 'smooth'\r\n        } );\r\n    }\r\n    e.preventDefault();\r\n}\r\n\r\n/**\r\n * utils to make mobile menu\r\n */\r\nexport const mobileMenu = function ( e ) {\r\n    let showMobile = document.querySelector( '.mobile-menu-toggler' );\r\n    let mobileMenu = document.querySelector( 'body' );\r\n\r\n    showMobile.addEventListener( \"click\", function ( e ) {\r\n        mobileMenu.classList.add( 'mmenu-active' );\r\n    } );\r\n\r\n    let mobileClose = document.querySelector( '.mobile-menu-close' );\r\n    mobileClose.addEventListener( \"click\", function ( e ) {\r\n        mobileMenu.classList.remove( 'mmenu-active' );\r\n    } );\r\n\r\n    let overLay = document.querySelector( '.mobile-menu-overlay' );\r\n    overLay.addEventListener( \"click\", function ( e ) {\r\n        mobileMenu.classList.remove( 'mmenu-active' );\r\n    } );\r\n\r\n    let items = document.querySelector( '.mobile-menu' ).querySelectorAll( 'li' );\r\n\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        let item = items[ i ];\r\n        if ( item.querySelector( 'ul' ) ) {\r\n            let span = document.createElement( \"span\" );\r\n            span.className = \"mmenu-btn\";\r\n            item.querySelector( 'a' ).appendChild( span );\r\n        }\r\n\r\n        item.addEventListener( \"click\", function () {\r\n            if ( mobileMenu.classList.contains( 'mmenu-active' ) ) {\r\n                mobileMenu.classList.remove( 'mmenu-active' );\r\n            }\r\n        } )\r\n    }\r\n\r\n    items = document.querySelectorAll( \".mmenu-btn\" );\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        let item = items[ i ];\r\n\r\n        item.addEventListener( \"click\", function ( e ) {\r\n            let parent = item.parentElement.parentElement;\r\n            let targetUI = parent.querySelector( \"ul\" );\r\n            targetUI.setAttribute( \"style\", \"display: block; visibility: hidden;\" );\r\n\r\n            let targetHeight = targetUI.offsetHeight;\r\n            let delta = targetHeight / 60;\r\n\r\n            if ( isIEBrowser() || isEdgeBrowser() ) {\r\n                delta = targetHeight / 30;\r\n            }\r\n\r\n            if ( !parent.classList.contains( 'open' ) ) {\r\n                let height = 0;\r\n                let timerID = setInterval( () => {\r\n                    if ( targetHeight <= height ) {\r\n                        targetUI.removeAttribute( \"style\" );\r\n                        targetUI.setAttribute( \"style\", \"display: block;\" );\r\n                        clearInterval( timerID );\r\n                        return null;\r\n                    }\r\n\r\n                    targetUI.setAttribute( \"style\", \"display: block; overflow: hidden; height: \" + height + 'px' );\r\n                    height += delta;\r\n                }, 1 );\r\n\r\n                parent.classList.add( 'open' );\r\n            } else {\r\n                let height = targetHeight;\r\n                let timerID = setInterval( () => {\r\n                    if ( height <= 0 ) {\r\n                        targetUI.removeAttribute( \"style\" );\r\n                        targetUI.setAttribute( \"style\", \"display: none;\" );\r\n                        clearInterval( timerID );\r\n                        return null;\r\n                    }\r\n\r\n                    targetUI.setAttribute( \"style\", \"display: block; overflow: hidden; height: \" + height + 'px' );\r\n                    height -= delta;\r\n                }, 1 );\r\n\r\n                parent.classList.remove( 'open' );\r\n            }\r\n\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        } );\r\n    }\r\n}\r\n\r\n/**\r\n * utils to make background parallax\r\n */\r\nexport const parallax = () => {\r\n    let parallax = document.querySelectorAll( '.bg-parallax' );\r\n\r\n    for ( let i = 0; i < parallax.length; i++ ) {\r\n        let y = 0;\r\n        if ( parallax[ i ].classList.contains( 'header-parallax' ) ) {\r\n            y = ( 10 - window.pageYOffset ) * 47 / 900 + 50;\r\n        } else {\r\n            y = ( parallax[ i ].offsetTop - window.pageYOffset ) * 47 / parallax[ i ].offsetTop + 50;\r\n        }\r\n\r\n        parallax[ i ].style.backgroundPositionY = y + '%';\r\n    }\r\n}\r\n\r\n/**\r\n * utils to remove all XSS  attacks potential\r\n * @param {String} html\r\n * @return {Object}\r\n */\r\nexport const safeContent = ( html ) => {\r\n    const SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n\r\n    //Removing the <script> tags\r\n    while ( SCRIPT_REGEX.test( html ) ) {\r\n        html = html.replace( SCRIPT_REGEX, '' );\r\n    }\r\n\r\n    //Removing all events from tags...\r\n    html = html.replace( / on\\w+=\"[^\"]*\"/g, '' );\r\n\r\n    return {\r\n        __html: html\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * utils to handle hover event in product\r\n */\r\nexport const hoverIntent = function () {\r\n    let items = document.querySelectorAll( '.product-3' );\r\n\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        let item = items[ i ];\r\n\r\n        item.addEventListener( \"mouseover\", mouseOverHandler, false );\r\n        item.addEventListener( \"mouseleave\", mouseLeaveHandler, false );\r\n\r\n        function mouseOverHandler () {\r\n            let animDiff = item.offsetHeight - ( item.querySelector( \".product-body\" ).offsetHeight + item.querySelector( \".product-media\" ).offsetHeight );\r\n            let animDistance = item.querySelector( \".product-footer\" ).offsetHeight - animDiff;\r\n            item.querySelector( \".product-footer\" ).setAttribute( \"style\", \"visibility: visible; transform: translateY(0);\" );\r\n            item.querySelector( \".product-body\" ).setAttribute( \"style\", \"transform: translateY(\" + -animDistance + \"px)\" );\r\n        }\r\n\r\n        function mouseLeaveHandler () {\r\n            item.querySelector( \".product-footer\" ).setAttribute( \"style\", \"visibility: hidden; transform: translateY(100%);\" );\r\n            item.querySelector( \".product-body\" ).setAttribute( \"style\", \"transform: translateY(0)\" );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * utils to make quanity input in product page\r\n */\r\nexport const quantityInputs = () => {\r\n    let items = document.querySelectorAll( \"input[type='number']\" );\r\n\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        let item = items[ i ];\r\n\r\n        if ( \"none\" !== item.style.display ) {\r\n            let min = item.getAttribute( \"min\" ),\r\n                max = item.getAttribute( \"max\" ),\r\n                step = item.getAttribute( \"step\" ),\r\n                element = document.createElement( \"div\" );\r\n\r\n            element.className = \"input-group input-spinner\";\r\n            element.innerHTML = '<div class=\"input-group-prepend\"><button style=\"min-width: 26px\" class=\"btn btn-decrement btn-spinner\" type=\"button\"><i class=\"icon-minus\"></i></button></div><input type=\"text\" style=\"text-align: center\" class=\"form-control \" required placeholder=\"\"><div class=\"input-group-append\"><button style=\"min-width: 26px\" class=\"btn btn-increment btn-spinner\" type=\"button\"><i class=\"icon-plus\"></i></button></div>';\r\n            item.insertAdjacentElement( \"afterEnd\", element );\r\n            item.style.display = 'none';\r\n\r\n            let inputNumber = element.querySelector( \"input[type='text']\" );\r\n            inputNumber.value = item.value;\r\n\r\n            element.querySelector( \".btn-decrement\" ).addEventListener( \"click\", decrementHandler, false );\r\n\r\n            element.querySelector( \".btn-increment\" ).addEventListener( \"click\", incrementHandler, false );\r\n\r\n            function decrementHandler () {\r\n                if ( min <= ( parseInt( inputNumber.value ) - parseInt( step ) ) ) {\r\n                    inputNumber.value = parseInt( inputNumber.value ) - parseInt( step );\r\n                    item.value = inputNumber.value;\r\n                    item.setAttribute( \"value\", inputNumber.value );\r\n                }\r\n            }\r\n\r\n            function incrementHandler () {\r\n                if ( max >= ( parseInt( inputNumber.value ) + parseInt( step ) ) ) {\r\n                    inputNumber.value = parseInt( inputNumber.value ) + parseInt( step );\r\n                    item.value = inputNumber.value;\r\n                    item.setAttribute( \"value\", inputNumber.value );\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * utils to detect IE browser\r\n * @return {bool}\r\n */\r\nexport const isIEBrowser = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( \"Trident\" ) > -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n * utils to detect safari browser\r\n * @return {bool}\r\n */\r\nexport const isSafariBrowser = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( 'Safari' ) !== -1 && sUsrAg.indexOf( 'Chrome' ) === -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n * utils to detect Edge browser\r\n * @return {bool}\r\n */\r\nexport const isEdgeBrowser = function () {\r\n    let sUsrAg = navigator.userAgent;\r\n    if ( sUsrAg.indexOf( \"Edge\" ) > -1 )\r\n        return true;\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n * find index of first matched string\r\n */\r\nexport const findIndex = function ( array, cb ) {\r\n    if ( array ) {\r\n        for ( let i = 0; i < array.length; i++ ) {\r\n            if ( true === cb( array[ i ] ) )\r\n                return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\n\r\n/**\r\n * utils to set countto in about-2\r\n */\r\nexport const countTo = function () {\r\n    let items = document.querySelectorAll( '.count' );\r\n\r\n    if ( items ) {\r\n        for ( let i = 0; i < items.length; i++ ) {\r\n\r\n            let item = items[ i ];\r\n            let amount = parseInt( item.getAttribute( 'data-to' ), 10 ) - parseInt( item.getAttribute( 'data-from' ), 10 );\r\n            let time = parseInt( item.getAttribute( 'data-speed' ), 10 );\r\n            let interval = parseInt( item.getAttribute( 'data-refresh-interval' ), 10 );\r\n            let pt = 0;\r\n            let height = item.parentElement.parentElement.parentElement.offsetTop;\r\n            let flag = 0;\r\n\r\n            document.addEventListener( \"scroll\", countToScrollHandler, true );\r\n\r\n            function countToScrollHandler () {\r\n                if ( pt <= time && height >= window.pageYOffset ) {\r\n                    if ( 0 === flag ) {\r\n                        let timerId = setInterval( () => {\r\n                            if ( pt >= time ) {\r\n                                clearInterval( timerId );\r\n                            }\r\n\r\n                            item.innerHTML = parseInt( ( pt * amount ) / time );\r\n                            pt = pt + interval;\r\n                        }, interval );\r\n                    }\r\n\r\n                    flag = 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * utils to set Masonry / Grid layout\r\n * \r\n * @param {Object} isotope\r\n * @param {Function} imagesLoaded\r\n * @param {String} container\r\n * @param {String} selector\r\n * @param {String} filterNav\r\n */\r\nexport function isotopeLoad ( isotope, imagesLoaded, container, selector, filterNav, layoutMode = \"masonry\" ) {\r\n    let items = document.querySelectorAll( container );\r\n\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        let item = items[ i ];\r\n\r\n        let iso = new isotope( items[ i ], {\r\n            itemSelector: selector,\r\n            layoutMode: layoutMode,\r\n            filter: document.querySelector( filterNav + \" .active\" ) ? document.querySelector( filterNav + \" .active\" ).getAttribute( 'data-filter' ) : ''\r\n        } );\r\n\r\n        let imgLoad = imagesLoaded( item, { background: true } );\r\n        imgLoad.on( 'done', function ( instance, image ) {\r\n            iso.layout();\r\n        } );\r\n\r\n        if ( filterNav ) {\r\n            let tabList = document.querySelectorAll( filterNav + \" a\" );\r\n\r\n            for ( let i = 0; i < tabList.length; i++ ) {\r\n                tabList[ i ].addEventListener( \"click\", function ( e ) {\r\n                    e.preventDefault();\r\n\r\n                    let filterValue = e.currentTarget.getAttribute( 'data-filter' );\r\n                    iso.arrange( {\r\n                        filter: filterValue\r\n                    } );\r\n\r\n                    // add active class\r\n                    for ( let j = 0; j < tabList.length; j++ ) {\r\n                        if ( tabList[ j ].getAttribute( 'data-filter' ) === filterValue ) {\r\n                            tabList[ j ].parentNode.classList.add( 'active' );\r\n                        } else {\r\n                            tabList[ j ].parentNode.classList.remove( 'active' );\r\n                        }\r\n                    }\r\n                } );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * utils to set Single Product Gallery\r\n */\r\nexport const productGallery = () => {\r\n    let items = document.querySelectorAll( \".product-gallery-item\" );\r\n\r\n    for ( let i = 0; i < items.length; i++ ) {\r\n        let item = items[ i ];\r\n\r\n        item.addEventListener( \"click\", productGalleryClickHandler );\r\n\r\n        function productGalleryClickHandler ( e ) {\r\n            for ( let i = 0; i < items.length; i++ )\r\n                items[ i ].classList.remove( \"active\" );\r\n\r\n            item.classList.add( \"active\" );\r\n\r\n            let images = document.querySelectorAll( \".product-main-image img\" )\r\n\r\n            images[ 0 ].setAttribute( \"src\", item.getAttribute( \"data-image\" ) );\r\n            images[ 1 ].setAttribute( \"src\", item.getAttribute( \"data-zoom-image\" ) );\r\n            document.querySelector( \".product-main-image\" ).setAttribute( \"index\", i );\r\n            e.preventDefault();\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}