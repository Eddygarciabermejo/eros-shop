{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { TOGGLE_WISHLIST, REMOVE_FROM_WISHLIST } from \"../constants/action-types\";\nimport { findIndex } from \"../utils\";\nimport { toast } from 'react-toastify';\nimport { persistReducer } from \"redux-persist\";\nimport storage from 'redux-persist/lib/storage';\n\nfunction wishlistReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    list: []\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case TOGGLE_WISHLIST:\n      var productId = action.product.id;\n\n      if (findIndex(state.list, function (product) {\n        return product.id === productId;\n      }) !== -1) {\n        var list = state.list.reduce(function (cartAcc, product) {\n          if (product.id !== productId) {\n            cartAcc.push(product);\n          } else toast.error(\"Item removed from Wishlist\");\n\n          return cartAcc;\n        }, []);\n        return _objectSpread({}, state, {\n          list: list\n        });\n      } else toast.success(\"Item added to Wishlist\");\n\n      return _objectSpread({}, state, {\n        list: [].concat(_toConsumableArray(state.list), [action.product])\n      });\n\n    case REMOVE_FROM_WISHLIST:\n      return {\n        list: state.list.filter(function (item) {\n          return item.id !== action.productId;\n        })\n      };\n\n    default:\n  }\n\n  return state;\n}\n\nvar persistConfig = {\n  keyPrefix: \"molla-\",\n  key: \"wishlist\",\n  storage: storage\n};\nexport default persistReducer(persistConfig, wishlistReducer);","map":{"version":3,"sources":["C:/Users/Eddi/Documents/Proyectos/DS2/Eros-Shop/Nueva carpeta/src/reducers/wishlist.js"],"names":["TOGGLE_WISHLIST","REMOVE_FROM_WISHLIST","findIndex","toast","persistReducer","storage","wishlistReducer","state","list","action","type","productId","product","id","reduce","cartAcc","push","error","success","filter","item","persistConfig","keyPrefix","key"],"mappings":";;AAAA,SAASA,eAAT,EAA0BC,oBAA1B,QAAsD,2BAAtD;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,OAAP,MAAoB,2BAApB;;AAEA,SAASC,eAAT,GAEY;AAAA,MAFcC,KAEd,uEAFsB;AAC9BC,IAAAA,IAAI,EAAE;AADwB,GAEtB;AAAA,MAATC,MAAS;;AACR,UAASA,MAAM,CAACC,IAAhB;AACI,SAAKV,eAAL;AACI,UAAMW,SAAS,GAAGF,MAAM,CAACG,OAAP,CAAeC,EAAjC;;AAEA,UAAKX,SAAS,CAAEK,KAAK,CAACC,IAAR,EAAc,UAAAI,OAAO;AAAA,eAAIA,OAAO,CAACC,EAAR,KAAeF,SAAnB;AAAA,OAArB,CAAT,KAAiE,CAAC,CAAvE,EAA2E;AACvE,YAAMH,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAWM,MAAX,CAAmB,UAAEC,OAAF,EAAWH,OAAX,EAAwB;AACpD,cAAKA,OAAO,CAACC,EAAR,KAAeF,SAApB,EAAgC;AAC5BI,YAAAA,OAAO,CAACC,IAAR,CAAcJ,OAAd;AACH,WAFD,MAGIT,KAAK,CAACc,KAAN,CAAa,4BAAb;;AACJ,iBAAOF,OAAP;AACH,SANY,EAMV,EANU,CAAb;AAQA,iCAAYR,KAAZ;AAAmBC,UAAAA,IAAI,EAAJA;AAAnB;AACH,OAVD,MAWIL,KAAK,CAACe,OAAN,CAAe,wBAAf;;AAEJ,+BAAYX,KAAZ;AAAmBC,QAAAA,IAAI,+BAAOD,KAAK,CAACC,IAAb,IAAmBC,MAAM,CAACG,OAA1B;AAAvB;;AAEJ,SAAKX,oBAAL;AACI,aAAO;AACHO,QAAAA,IAAI,EAAED,KAAK,CAACC,IAAN,CAAWW,MAAX,CAAmB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACP,EAAL,KAAYJ,MAAM,CAACE,SAAvB;AAAA,SAAvB;AADH,OAAP;;AAIJ;AAxBJ;;AA0BA,SAAOJ,KAAP;AACH;;AAED,IAAMc,aAAa,GAAG;AAClBC,EAAAA,SAAS,EAAE,QADO;AAElBC,EAAAA,GAAG,EAAE,UAFa;AAGlBlB,EAAAA,OAAO,EAAPA;AAHkB,CAAtB;AAMA,eAAeD,cAAc,CAAEiB,aAAF,EAAiBf,eAAjB,CAA7B","sourcesContent":["import { TOGGLE_WISHLIST, REMOVE_FROM_WISHLIST } from \"../constants/action-types\";\r\nimport { findIndex } from \"../utils\";\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nfunction wishlistReducer( state = {\r\n    list: []\r\n}, action ) {\r\n    switch ( action.type ) {\r\n        case TOGGLE_WISHLIST:\r\n            const productId = action.product.id;\r\n\r\n            if ( findIndex( state.list, product => product.id === productId ) !== -1 ) {\r\n                const list = state.list.reduce( ( cartAcc, product ) => {\r\n                    if ( product.id !== productId ) {\r\n                        cartAcc.push( product );\r\n                    } else\r\n                        toast.error( \"Item removed from Wishlist\" );\r\n                    return cartAcc\r\n                }, [] )\r\n\r\n                return { ...state, list }\r\n            } else\r\n                toast.success( \"Item added to Wishlist\" );\r\n\r\n            return { ...state, list: [ ...state.list, action.product ] }\r\n\r\n        case REMOVE_FROM_WISHLIST:\r\n            return {\r\n                list: state.list.filter( item => item.id !== action.productId )\r\n            }\r\n\r\n        default:\r\n    }\r\n    return state;\r\n}\r\n\r\nconst persistConfig = {\r\n    keyPrefix: \"molla-\",\r\n    key: \"wishlist\",\r\n    storage\r\n}\r\n\r\nexport default persistReducer( persistConfig, wishlistReducer );"]},"metadata":{},"sourceType":"module"}