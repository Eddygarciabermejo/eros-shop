{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\src\\\\components\\\\features\\\\product\\\\list\\\\product-list-three.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport imagesLoaded from 'imagesloaded';\nimport ProductFive from '../product-five';\nimport Pagination from '../../pagination';\nimport { addToCart, showQuickViewModal, filterSort } from '../../../../actions';\nimport { getVisibleProducts } from '../../../../services';\n\nfunction ProductListThree(props) {\n  var _this = this;\n\n  var filterSort = props.filterSort,\n      filters = props.filters,\n      addToCart = props.addToCart,\n      showQuickViewModal = props.showQuickViewModal;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      startPos = _useState2[0],\n      setPos = _useState2[1];\n\n  var products = props.products;\n  products = getVisibleProducts(products.slice(20, 35), filters);\n  var count = products.length;\n  var maxCount = 8;\n\n  function changePos(pos) {\n    setPos(pos);\n  }\n\n  function changeFilter(e) {\n    setPos(0);\n    filterSort(e.target.value);\n  }\n\n  useEffect(function () {\n    setPos(0);\n    document.querySelector('.skeleton-body.skel-shop-products').classList.remove('loaded');\n    var imgLoad = imagesLoaded(\".products\", {\n      background: true\n    });\n    imgLoad.on('done', function (instance, image) {\n      document.querySelector('.skeleton-body.skel-shop-products').classList.add('loaded');\n    });\n  }, [filters]);\n  useEffect(function () {\n    document.querySelector('.skeleton-body.skel-shop-products').classList.remove('loaded');\n    var imgLoad = imagesLoaded(\".products\", {\n      background: true\n    });\n    imgLoad.on('done', function (instance, image) {\n      document.querySelector('.skeleton-body.skel-shop-products').classList.add('loaded');\n    });\n  }, [startPos]);\n  return products ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbox-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbox-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, count, \" Products found\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbox-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbox-sort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"sortby\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, \"Sort by:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select-custom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sortby\",\n    id: \"sortby\",\n    defaultValue: props.filters.sortBy,\n    className: \"form-control\",\n    onChange: changeFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"popularity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 37\n    }\n  }, \"Most Popular\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, \"Most Rated\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }, \"Date\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row skeleton-body skel-shop-products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, products.slice(startPos, startPos + maxCount).map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 col-md-4 col-xl-3\",\n      key: item.id + '-' + item.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"skel-pro\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(ProductFive, {\n      product: item,\n      onAddToCart: addToCart,\n      showQuickView: showQuickViewModal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(Pagination, {\n    count: count,\n    unit: maxCount,\n    onChange: changePos,\n    filters: filters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })) : '';\n}\n\nexport var mapStateToProps = function mapStateToProps(state) {\n  return {\n    filters: state.filters,\n    products: state.data.products ? state.data.products : []\n  };\n};\nexport default connect(mapStateToProps, {\n  addToCart: addToCart,\n  showQuickViewModal: showQuickViewModal,\n  filterSort: filterSort\n})(ProductListThree);","map":{"version":3,"sources":["C:/Users/Eddi/Documents/Proyectos/DS2/Eros-Shop/Nueva carpeta/src/components/features/product/list/product-list-three.jsx"],"names":["React","useState","useEffect","connect","imagesLoaded","ProductFive","Pagination","addToCart","showQuickViewModal","filterSort","getVisibleProducts","ProductListThree","props","filters","startPos","setPos","products","slice","count","length","maxCount","changePos","pos","changeFilter","e","target","value","document","querySelector","classList","remove","imgLoad","background","on","instance","image","add","sortBy","map","item","index","id","name","mapStateToProps","state","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport imagesLoaded from 'imagesloaded';\r\n\r\nimport ProductFive from '../product-five';\r\nimport Pagination from '../../pagination';\r\n\r\nimport { addToCart, showQuickViewModal, filterSort } from '../../../../actions';\r\nimport { getVisibleProducts } from '../../../../services';\r\n\r\nfunction ProductListThree( props ) {\r\n    const { filterSort, filters, addToCart, showQuickViewModal } = props\r\n    const [ startPos, setPos ] = useState( 0 );\r\n    let products = props.products;\r\n    products = getVisibleProducts( products.slice( 20, 35 ), filters );\r\n    let count = products.length;\r\n    const maxCount = 8;\r\n\r\n    function changePos( pos ) {\r\n        setPos( pos );\r\n    }\r\n\r\n    function changeFilter( e ) {\r\n        setPos( 0 );\r\n        filterSort( e.target.value );\r\n    }\r\n\r\n    useEffect( () => {\r\n        setPos( 0 );\r\n\r\n        document.querySelector( '.skeleton-body.skel-shop-products' ).classList.remove( 'loaded' );\r\n\r\n        let imgLoad = imagesLoaded( \".products\", { background: true } );\r\n\r\n        imgLoad.on( 'done', function ( instance, image ) {\r\n            document.querySelector( '.skeleton-body.skel-shop-products' ).classList.add( 'loaded' );\r\n        } );\r\n    }, [ filters ] )\r\n\r\n    useEffect( () => {\r\n        document.querySelector( '.skeleton-body.skel-shop-products' ).classList.remove( 'loaded' );\r\n\r\n        let imgLoad = imagesLoaded( \".products\", { background: true } );\r\n\r\n        imgLoad.on( 'done', function ( instance, image ) {\r\n            document.querySelector( '.skeleton-body.skel-shop-products' ).classList.add( 'loaded' );\r\n        } );\r\n    }, [ startPos ] )\r\n\r\n    return (\r\n        products ?\r\n            <>\r\n                <div className=\"toolbox\">\r\n                    <div className=\"toolbox-left\">\r\n                        <div className=\"toolbox-info\">\r\n                            { count } Products found\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"toolbox-right\">\r\n                        <div className=\"toolbox-sort\">\r\n                            <label htmlFor=\"sortby\">Sort by:</label>\r\n                            <div className=\"select-custom\">\r\n                                <select name=\"sortby\"\r\n                                    id=\"sortby\"\r\n                                    defaultValue={ props.filters.sortBy }\r\n                                    className=\"form-control\"\r\n                                    onChange={ changeFilter }\r\n                                >\r\n                                    <option value=\"popularity\">Most Popular</option>\r\n                                    <option value=\"rating\">Most Rated</option>\r\n                                    <option value=\"date\">Date</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"products mb-3\">\r\n                    <div className=\"row skeleton-body skel-shop-products\">\r\n                        { products.slice( startPos, startPos + maxCount ).map( ( item, index ) =>\r\n                            <div className=\"col-6 col-md-4 col-xl-3\" key={ item.id + '-' + item.name }>\r\n                                <div className=\"skel-pro\">\r\n                                </div>\r\n\r\n                                <ProductFive\r\n                                    product={ item }\r\n                                    onAddToCart={ addToCart }\r\n                                    showQuickView={ showQuickViewModal }\r\n                                />\r\n                            </div>\r\n                        ) }\r\n                    </div>\r\n                </div>\r\n                <Pagination count={ count } unit={ maxCount } onChange={ changePos } filters={ filters } />\r\n            </> : ''\r\n    );\r\n}\r\n\r\nexport const mapStateToProps = ( state ) => {\r\n    return {\r\n        filters: state.filters,\r\n        products: state.data.products ? state.data.products : [],\r\n    };\r\n}\r\n\r\nexport default connect( mapStateToProps, { addToCart, showQuickViewModal, filterSort } )( ProductListThree );"]},"metadata":{},"sourceType":"module"}