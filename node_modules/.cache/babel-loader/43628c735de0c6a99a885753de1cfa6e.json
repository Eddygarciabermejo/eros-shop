{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_COMPARE, REMOVE_FROM_COMPARE, RESET_COMPARE } from \"../constants/action-types\";\nimport { findIndex } from \"../utils\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from 'redux-persist/lib/storage';\n\nfunction compareReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    items: []\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_COMPARE:\n      var productId = action.product.id;\n\n      if (findIndex(state.items, function (product) {\n        return product.id === productId;\n      }) !== -1) {\n        var items = state.items.reduce(function (cartAcc, product) {\n          if (product.id === productId) {\n            cartAcc.push(_objectSpread({}, product));\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n        return _objectSpread({}, state, {\n          items: items\n        });\n      }\n\n      return _objectSpread({}, state, {\n        items: [].concat(_toConsumableArray(state.items), [action.product])\n      });\n\n    case REMOVE_FROM_COMPARE:\n      return {\n        items: state.items.filter(function (id) {\n          return id !== action.productId;\n        })\n      };\n\n    case RESET_COMPARE:\n      return {\n        items: []\n      };\n\n    default:\n  }\n\n  return state;\n}\n\nvar persistConfig = {\n  keyPrefix: \"molla-\",\n  key: \"comparelist\",\n  storage: storage\n};\nexport default persistReducer(persistConfig, compareReducer);","map":{"version":3,"sources":["C:/Users/Eddi/Documents/Proyectos/DS2/Eros-Shop/Nueva carpeta/src/reducers/compare.js"],"names":["ADD_TO_COMPARE","REMOVE_FROM_COMPARE","RESET_COMPARE","findIndex","persistReducer","storage","compareReducer","state","items","action","type","productId","product","id","reduce","cartAcc","push","filter","persistConfig","keyPrefix","key"],"mappings":";;AAAA,SAASA,cAAT,EAAyBC,mBAAzB,EAA8CC,aAA9C,QAAmE,2BAAnE;AACA,SAASC,SAAT,QAA0B,UAA1B;AAEA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,OAAP,MAAoB,2BAApB;;AAEA,SAASC,cAAT,GAEY;AAAA,MAFaC,KAEb,uEAFqB;AAC7BC,IAAAA,KAAK,EAAE;AADsB,GAErB;AAAA,MAATC,MAAS;;AACR,UAASA,MAAM,CAACC,IAAhB;AACI,SAAKV,cAAL;AACI,UAAMW,SAAS,GAAGF,MAAM,CAACG,OAAP,CAAeC,EAAjC;;AAEA,UAAKV,SAAS,CAAEI,KAAK,CAACC,KAAR,EAAe,UAAAI,OAAO;AAAA,eAAIA,OAAO,CAACC,EAAR,KAAeF,SAAnB;AAAA,OAAtB,CAAT,KAAkE,CAAC,CAAxE,EAA4E;AACxE,YAAMH,KAAK,GAAGD,KAAK,CAACC,KAAN,CAAYM,MAAZ,CAAoB,UAAEC,OAAF,EAAWH,OAAX,EAAwB;AACtD,cAAKA,OAAO,CAACC,EAAR,KAAeF,SAApB,EAAgC;AAC5BI,YAAAA,OAAO,CAACC,IAAR,mBAAmBJ,OAAnB;AACH,WAFD,MAEO;AACHG,YAAAA,OAAO,CAACC,IAAR,CAAcJ,OAAd;AACH;;AAED,iBAAOG,OAAP;AACH,SARa,EAQX,EARW,CAAd;AAUA,iCAAYR,KAAZ;AAAmBC,UAAAA,KAAK,EAALA;AAAnB;AACH;;AAED,+BAAYD,KAAZ;AAAmBC,QAAAA,KAAK,+BAAOD,KAAK,CAACC,KAAb,IAAoBC,MAAM,CAACG,OAA3B;AAAxB;;AAEJ,SAAKX,mBAAL;AACI,aAAO;AACHO,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAN,CAAYS,MAAZ,CAAoB,UAAAJ,EAAE;AAAA,iBAAIA,EAAE,KAAKJ,MAAM,CAACE,SAAlB;AAAA,SAAtB;AADJ,OAAP;;AAIJ,SAAKT,aAAL;AACI,aAAO;AACHM,QAAAA,KAAK,EAAE;AADJ,OAAP;;AAGJ;AA7BJ;;AA+BA,SAAOD,KAAP;AACH;;AAED,IAAMW,aAAa,GAAG;AAClBC,EAAAA,SAAS,EAAE,QADO;AAElBC,EAAAA,GAAG,EAAE,aAFa;AAGlBf,EAAAA,OAAO,EAAPA;AAHkB,CAAtB;AAMA,eAAeD,cAAc,CAAEc,aAAF,EAAiBZ,cAAjB,CAA7B","sourcesContent":["import { ADD_TO_COMPARE, REMOVE_FROM_COMPARE, RESET_COMPARE } from \"../constants/action-types\";\r\nimport { findIndex } from \"../utils\";\r\n\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nfunction compareReducer( state = {\r\n    items: []\r\n}, action ) {\r\n    switch ( action.type ) {\r\n        case ADD_TO_COMPARE:\r\n            const productId = action.product.id;\r\n\r\n            if ( findIndex( state.items, product => product.id === productId ) !== -1 ) {\r\n                const items = state.items.reduce( ( cartAcc, product ) => {\r\n                    if ( product.id === productId ) {\r\n                        cartAcc.push( { ...product } )\r\n                    } else {\r\n                        cartAcc.push( product )\r\n                    }\r\n\r\n                    return cartAcc\r\n                }, [] )\r\n\r\n                return { ...state, items }\r\n            }\r\n\r\n            return { ...state, items: [ ...state.items, action.product ] }\r\n\r\n        case REMOVE_FROM_COMPARE:\r\n            return {\r\n                items: state.items.filter( id => id !== action.productId )\r\n            }\r\n\r\n        case RESET_COMPARE:\r\n            return {\r\n                items: []\r\n            }\r\n        default:\r\n    }\r\n    return state;\r\n}\r\n\r\nconst persistConfig = {\r\n    keyPrefix: \"molla-\",\r\n    key: \"comparelist\",\r\n    storage\r\n}\r\n\r\nexport default persistReducer( persistConfig, compareReducer );"]},"metadata":{},"sourceType":"module"}