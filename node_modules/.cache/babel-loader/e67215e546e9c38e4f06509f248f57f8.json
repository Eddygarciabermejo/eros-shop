{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Eddi\\\\Documents\\\\Proyectos\\\\DS2\\\\Eros-Shop\\\\Nueva carpeta\\\\src\\\\components\\\\pages\\\\products\\\\partials\\\\media\\\\media-four.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Magnifier } from \"react-image-magnifiers\";\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\nimport { stickyContentHandle, setStickyValues } from '../../../../../utils';\n\nfunction MediaFour(props) {\n  var _this = this;\n\n  var product = props.product;\n\n  if (!product) {\n    window.location = process.env.PUBLIC_URL + \"pages/404\";\n  }\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      photoIndex = _useState2[0],\n      setPhotoIndex = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setStatus = _useState4[1];\n\n  var bigImages = product.lgPictures ? product.lgPictures : product.pictures;\n  var smallImages = product.smPictures ? product.smPictures : product.pictures;\n  useEffect(function () {\n    setStickyValues(20);\n  }, []);\n  useEffect(function () {\n    window.addEventListener('scroll', stickyContentHandle);\n    return function () {\n      window.removeEventListener('scroll', stickyContentHandle);\n    };\n  });\n\n  function openLightBox() {\n    var index = parseInt(document.querySelector(\".product-main-image\").getAttribute(\"index\"));\n\n    if (!index) {\n      index = 0;\n    }\n\n    setStatus(true);\n    setPhotoIndex(index);\n  }\n\n  function closeLightBox() {\n    setStatus(false);\n  }\n\n  var setNextHandler = function setNextHandler() {\n    setPhotoIndex(function (photoIndex) {\n      return (photoIndex + 1) % bigImages.length;\n    });\n  };\n\n  var setPrevHandler = function setPrevHandler() {\n    setPhotoIndex(function (photoIndex) {\n      return (photoIndex + bigImages.length - 1) % bigImages.length;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-gallery mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"product-main-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, product.discount > 0 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product-label label-sale\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 46\n    }\n  }, \"Sale\") : '', product.new ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product-label label-new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, \"New\") : '', product.top ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product-label label-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }, \"Top\") : '', /*#__PURE__*/React.createElement(Magnifier, {\n    imageSrc: process.env.PUBLIC_URL + '/' + product.pictures[0],\n    imageAlt: \"Example\",\n    largeImageSrc: process.env.PUBLIC_URL + '/' + bigImages[0] // Optional\n    ,\n    dragToMove: false,\n    mouseActivation: \"hover\",\n    cursorStyleActive: \"crosshair\",\n    id: \"product-zoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    to: \"#\",\n    id: \"btn-product-gallery\",\n    className: \"btn-product-gallery\",\n    onClick: openLightBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icon-arrows\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"product-zoom-gallery\",\n    className: \"product-image-gallery product-gallery-masonry\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, product.pictures.map(function (item, index) {\n    return parseInt(index) > 0 ? /*#__PURE__*/React.createElement(Link, {\n      className: \"product-gallery-item \".concat(2 === index ? 'gallery-item-wide' : ''),\n      to: \"#\",\n      \"data-image\": item,\n      \"data-zoom-image\": bigImages[index],\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/' + smallImages[index],\n      alt: \"product back\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    })) : '';\n  }))), isOpen ? /*#__PURE__*/React.createElement(Lightbox, {\n    mainSrc: process.env.PUBLIC_URL + '/' + bigImages[photoIndex],\n    nextSrc: process.env.PUBLIC_URL + '/' + bigImages[(photoIndex + 1) % bigImages.length],\n    prevSrc: process.env.PUBLIC_URL + '/' + bigImages[(photoIndex + bigImages.length - 1) % bigImages.length],\n    onCloseRequest: closeLightBox,\n    onMovePrevRequest: setNextHandler,\n    onMoveNextRequest: setPrevHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }) : '');\n}\n\n;\n\nfunction mapStateToProps(state, props) {\n  return {\n    product: state.data.products.filter(function (product) {\n      return product.id === parseInt(props.id);\n    })[0]\n  };\n}\n\nexport default connect(mapStateToProps)(MediaFour);","map":{"version":3,"sources":["C:/Users/Eddi/Documents/Proyectos/DS2/Eros-Shop/Nueva carpeta/src/components/pages/products/partials/media/media-four.jsx"],"names":["React","useState","useEffect","connect","Link","Magnifier","Lightbox","stickyContentHandle","setStickyValues","MediaFour","props","product","window","location","process","env","PUBLIC_URL","photoIndex","setPhotoIndex","isOpen","setStatus","bigImages","lgPictures","pictures","smallImages","smPictures","addEventListener","removeEventListener","openLightBox","index","parseInt","document","querySelector","getAttribute","closeLightBox","setNextHandler","length","setPrevHandler","discount","new","top","map","item","mapStateToProps","state","data","products","filter","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Magnifier } from \"react-image-magnifiers\";\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\n\r\nimport { stickyContentHandle, setStickyValues } from '../../../../../utils';\r\n\r\nfunction MediaFour( props ) {\r\n    const { product } = props;\r\n\r\n    if ( !product ) {\r\n        window.location = process.env.PUBLIC_URL + \"pages/404\";\r\n    }\r\n\r\n    const [ photoIndex, setPhotoIndex ] = useState( 0 );\r\n    const [ isOpen, setStatus ] = useState( false );\r\n\r\n    const bigImages = product.lgPictures ? product.lgPictures : product.pictures;\r\n    const smallImages = product.smPictures ? product.smPictures : product.pictures;\r\n\r\n    useEffect( () => {\r\n        setStickyValues( 20 );\r\n    }, [] )\r\n\r\n    useEffect( () => {\r\n        window.addEventListener( 'scroll', stickyContentHandle );\r\n\r\n        return () => {\r\n            window.removeEventListener( 'scroll', stickyContentHandle );\r\n        }\r\n    } )\r\n\r\n    function openLightBox() {\r\n        let index = parseInt( document.querySelector( \".product-main-image\" ).getAttribute( \"index\" ) );\r\n\r\n        if ( !index ) {\r\n            index = 0;\r\n        }\r\n        setStatus( true );\r\n        setPhotoIndex( index );\r\n    }\r\n\r\n    function closeLightBox() {\r\n        setStatus( false );\r\n    }\r\n\r\n    const setNextHandler = () => {\r\n        setPhotoIndex( photoIndex => ( photoIndex + 1 ) % bigImages.length );\r\n    }\r\n\r\n    const setPrevHandler = () => {\r\n        setPhotoIndex( photoIndex => ( photoIndex + bigImages.length - 1 ) % bigImages.length );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"product-gallery mb-0\">\r\n                <figure className=\"product-main-image\">\r\n\r\n                    { product.discount > 0 ? <span className=\"product-label label-sale\">Sale</span> : '' }\r\n\r\n                    { product.new ? <span className=\"product-label label-new\">New</span> : '' }\r\n\r\n                    { product.top ? <span className=\"product-label label-top\">Top</span> : '' }\r\n\r\n                    <Magnifier\r\n                        imageSrc={ process.env.PUBLIC_URL + '/' + product.pictures[ 0 ] }\r\n                        imageAlt=\"Example\"\r\n                        largeImageSrc={ process.env.PUBLIC_URL + '/' + bigImages[ 0 ] } // Optional\r\n                        dragToMove={ false }\r\n                        mouseActivation=\"hover\"\r\n                        cursorStyleActive=\"crosshair\"\r\n                        id=\"product-zoom\"\r\n                    />\r\n\r\n                    <button to=\"#\" id=\"btn-product-gallery\" className=\"btn-product-gallery\" onClick={ openLightBox }>\r\n                        <i className=\"icon-arrows\"></i>\r\n                    </button>\r\n                </figure>\r\n\r\n                <div id=\"product-zoom-gallery\" className=\"product-image-gallery product-gallery-masonry\">\r\n                    {\r\n                        product.pictures.map( ( item, index ) =>\r\n                            parseInt( index ) > 0 ?\r\n                                <Link className={ `product-gallery-item ${2 === index ? 'gallery-item-wide' : ''}` } to=\"#\" data-image={ item } data-zoom-image={ bigImages[ index ] } key={ index }>\r\n                                    <img src={ process.env.PUBLIC_URL + '/' + smallImages[ index ] } alt=\"product back\" />\r\n                                </Link> : ''\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                isOpen ?\r\n                    <Lightbox\r\n                        mainSrc={ process.env.PUBLIC_URL + '/' + bigImages[ photoIndex ] }\r\n                        nextSrc={ process.env.PUBLIC_URL + '/' + bigImages[ ( photoIndex + 1 ) % bigImages.length ] }\r\n                        prevSrc={ process.env.PUBLIC_URL + '/' + bigImages[ ( photoIndex + bigImages.length - 1 ) % bigImages.length ] }\r\n                        onCloseRequest={ closeLightBox }\r\n                        onMovePrevRequest={ setNextHandler }\r\n                        onMoveNextRequest={ setPrevHandler }\r\n                    />\r\n                    : ''\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nfunction mapStateToProps( state, props ) {\r\n    return {\r\n        product: state.data.products.filter( product => product.id === parseInt( props.id ) )[ 0 ]\r\n    }\r\n}\r\n\r\nexport default connect( mapStateToProps )( MediaFour );"]},"metadata":{},"sourceType":"module"}